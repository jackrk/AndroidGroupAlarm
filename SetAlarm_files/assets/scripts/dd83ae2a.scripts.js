"use strict";angular.module("groupAlarmApp",["ngCookies","ngResource","ngSanitize","ngRoute","firebase","angular-carousel"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html"}).when("/lists",{templateUrl:"views/lists.html"}).when("/add/alarm",{templateUrl:"views/addalarm.html"}).when("/add/timer",{templateUrl:"views/addtimer.html"}).when("/add/group",{templateUrl:"views/addgroup.html"}).otherwise({redirectTo:"/"})}]),angular.module("groupAlarmApp").controller("TitleBarCtrl",["$scope",function(){}]),angular.module("groupAlarmApp").controller("AlarmsCtrl",["$scope","$rootScope","$location","$firebase",function(a,b,c,d){if("undefined"==typeof b.user||null===b.user)return void c.path("/");var e=d(new Firebase("https://brilliant-fire-1384.firebaseio.com/users/"+b.user.id+"/alarms")),f=new Firebase("https://brilliant-fire-1384.firebaseio.com/alarms");a.alarms=[],e.$on("change",function(){a.alarms=[];var b=e.$getIndex();b.forEach(function(b){a.alarms.push(d(f.child(b)))})}),b.$on("alarms.add",function(){c.path("/add/alarm")}),a.addAlarm=function(){var a={};a.name="Testing alarm",a.permissions={},a.permissions[b.user.id]=!0;var c=f.push();c.set(a);var d={};d[c.name()]=!0,e.$update(d)}}]),angular.module("groupAlarmApp").controller("TimersCtrl",["$scope","$rootScope","$location","$firebase",function(a,b,c,d){if("undefined"==typeof b.user||null===b.user)return void c.path("/");var e=d(new Firebase("https://brilliant-fire-1384.firebaseio.com/users/"+b.user.id+"/timers")),f=new Firebase("https://brilliant-fire-1384.firebaseio.com/timers");a.timers=[],e.$on("change",function(){a.timers=[];var b=e.$getIndex();b.forEach(function(b){a.timers.push(d(f.child(b)))})}),b.$on("timers.add",function(){c.path("/add/timer")}),a.addTimer=function(){var a={};a.name="Testing Timer",a.permissions={},a.permissions[b.user.id]=!0;var c=f.push();c.set(a);var d={};d[c.name()]=!0,e.$update(d)}}]),angular.module("groupAlarmApp").controller("GroupsCtrl",["$scope","$rootScope","$firebase","$location",function(a,b,c,d){if("undefined"==typeof b.user||null===b.user)return void d.path("/");var e=c(new Firebase("https://brilliant-fire-1384.firebaseio.com/users/"+b.user.id+"/groups")),f=new Firebase("https://brilliant-fire-1384.firebaseio.com/groups");a.groups=[],e.$on("change",function(){a.groups=[];var b=e.$getIndex();b.forEach(function(b){a.groups.push(c(f.child(b)))})}),b.$on("groups.add",function(){d.path("/add/group")}),a.addGroup=function(){var a={};a.name="Testing group",a.permissions={},a.permissions[b.user.id]=!0;var c=f.push();c.set(a);var d={};d[c.name()]=!0,e.$update(d)}}]),angular.module("groupAlarmApp").controller("AuthCtrl",["$scope","$rootScope","$firebaseSimpleLogin","$location",function(a,b,c,d){var e=new Firebase("https://brilliant-fire-1384.firebaseio.com");a.loginobj=c(e),a.logout=function(){a.loginobj.$logout()},a.login=function(){a.loginobj.$login("facebook",{rememberme:!0}).then(function(a){b.user=a,d.path("lists")},function(){})}}]),angular.module("groupAlarmApp").controller("ListCtrl",["$scope","$rootScope",function(a,b){a.tabIndex=0,a.tabs=["Alarms","Timers","Groups"],a.add=function(){b.$emit(a.tabs[a.tabIndex].toLowerCase()+".add")}}]);